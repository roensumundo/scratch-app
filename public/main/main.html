<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>StayFit</title>
  <link rel="stylesheet" href="main.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
  <script type="text/javascript" src="../code/main.js"></script>
  <script type="text/javascript" src="../code/DOMController.js"></script>
  <script type="text/javascript" src="mainDOMController.js"></script>
  <script type="text/javascript" src="../code/client.js"></script>
  <script type="text/javascript" src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
</head>

<body>
  <header>
    <div class="icon menu">
      <img width="35" height="35" src="../data/menu.png">
      <button class="menu-button" onclick="displayMenu()"></button>
    </div>
    <button class="personal-space-button">My Personal Space</button>
  </header>
  <main>
    <div class="menu-container" style="display:none">
      <div class="profile">
        <img src="../data/profile-picture.png" alt="Profile Picture" class="profile-pic">
        <h2 class="name">John Doe</h2>

        <p class="username">@johndoe</p>
      </div>
      <div class="options">
        <button class="main" onclick="goToPage('main')">Main</button>
        <button class="personal-space">Personal Space</button>
        <button class="explore" onclick="goToPage('explore')">Explore</button>
        <button class="publish-offer" onclick="goToPage('publish_offer')">Publish an Offer</button>
      </div>
    </div>
    <div class="main">
      <div class="upcomming-heading">
        <h2 class="separator">Upcomming classes</h1>
      </div>
      <div class="upcomming-classes">
        <div class="class_offer" id="class_offer_1">
          <div class="offer-small-text">
            <p>Starts in 5 min</p>
          </div>
          <div class="offer-content">
            <div>
              <div class="offer-title">
                <h2>Class Title</h2>
                <p class="username-offer"> @myusername</p>
              </div>
              <p class="date-time">Subtitle</p>
            </div>
            <div class="offer-description">
              <p>Large text description here</p>
            </div>
            <button class="go-button">Go</button>
          </div>
        </div>
      </div>
    </div>
    <div class="recommendations-heading">
      <h2 class="separator">You may also like</h2>
      <button class="explore-button" onclick="goPage('explore')">Explore more
        options</button>
    </div>

    <div class="recommendations">
      <div class="class_offer recommended" id="class_offer_2">
        <div class="offer-small-text price">
          <p>5â‚¬</p>
        </div>
        <div class="offer-content">
          <div>
            <div class="offer-title">
              <h2>Class Title</h2>
              <p class="username-offer"> @myusername</p>
            </div>
            <p class="date-time">Subtitle</p>
          </div>
          <button class="go-button" onclick="showDetail('2')">View details</button>
          <div class="offer-description">
            <p>Large text description here</p>
          </div>
        </div>
      </div>
  </main>
  <div class="class-detail" style="display:none">
    <button class="arrow-button" onclick="returnToMain()">
      <img src="../data/arrow-left-solid.svg" alt="Arrow Icon">
    </button>
  </div>

  <div id="payment-form" style="display:none">
    <h4 class="title-payment-form">Add payment method </h4>
    <div class="cardholder">
      <label for="cardholder-name">Cardholder Name:</label>
      <input type="text" id="cardholder-name" placeholder="Cardholder Name">
    </div>

    <div id="wrapper">
      <label for="card">Card Credentials:</label>
      <div id="card"></div>
      <div class="decision-buttons">
        <button id='cancel-button' type="button" onclick="goToPage('main')">Cancel</button>
        <button id='pay' type="submit" onclick="enrollToClass()">Pay</button>
      </div>
    </div>

  </div>

  <script>
    (async () => {
      const payments = Square.payments(
        'sandbox-sq0idb-YUaNbH9vsWUkOL-RWc06Kw',
        'EAAAEGdpSrpv_2BiHgaj9fUQlj_X2gnZVOvcW-6fkDtarZic2XVE3hZJ3MvtoK33',
      );
      const cardOptions = {
        style: {
          input: {
            backgroundColor: 'white'
          },
        }
      };
      try {
        const card = await payments.card(cardOptions);
        await card.attach('#card');
        /*
        const payButton = document.getElementById('pay')
        payButton.addEventListener('click', async () => {
          const result = await card.tokenize();
          alert(JSON.stringify(result, null, 2));
        });
        */
      }
      catch (e) {
        console.error(e);
      }
    })()
  </script>

</body>
<script>loadClientInfo()</script>
<script>runMain()</script>

</html>